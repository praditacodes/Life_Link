{% extends 'patient/patientbase.html' %}
{% block content %}
{% load widget_tweaks %}
{% load static %}
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.css">
<style>
    body { background: #FFF5F5; }
    .myrequest-card {
        background: #fff;
        border-radius: 2rem;
        box-shadow: 0 8px 32px rgba(255,111,97,0.12);
        padding: 2.5rem 2rem 2rem 2rem;
        margin-top: 3rem;
        max-width: 700px;
        margin-left: auto;
        margin-right: auto;
        position: relative;
        transition: box-shadow 0.2s;
    }
    .myrequest-card:hover {
        box-shadow: 0 12px 40px rgba(255,111,97,0.18);
    }
    .myrequest-header {
        background: linear-gradient(90deg, #FF6F61 0%, #FF3B30 100%);
        color: #fff;
        border-radius: 1.5rem 1.5rem 0 0;
        padding: 1.5rem 1rem 1rem 1rem;
        font-weight: 700;
        font-size: 1.7rem;
        text-align: center;
        margin-bottom: 2rem;
        font-family: 'Poppins', 'Comic Sans MS', cursive, sans-serif;
        letter-spacing: 1px;
        box-shadow: 0 2px 8px rgba(255,111,97,0.08);
        position: relative;
    }
    .myrequest-header .cute-icon {
        font-size: 2.2rem;
        margin-bottom: 0.3rem;
        display: block;
        color: #fffbe7;
        text-shadow: 0 2px 8px #FF3B30;
    }
    table {
        width: 100%;
        border-collapse: collapse;
        background: #fff;
        border-radius: 0.5rem;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(255,111,97,0.04);
    }
    thead {
        background: #FF6F61;
        color: #fff;
    }
    th, td {
        padding: 0.75rem 1rem;
        text-align: center;
        border-bottom: 1px solid #f0f0f0;
    }
    th {
        font-weight: 600;
        letter-spacing: 0.5px;
    }
    .status-badge {
        display: inline-block;
        padding: 0.4em 1.2em;
        border-radius: 1rem;
        font-size: 1em;
        font-weight: 600;
        color: #fff;
        background: #FF3B30;
    }
</style>

<div class="container">
    <div class="myrequest-card mx-auto">
        <div class="myrequest-header">
            <span class="cute-icon">üìù</span>
            My Requests
        </div>
        <table>
            <thead>
                <tr>
                    <th>Blood Group</th>
                    <th>Unit</th>
                    <th>Date</th>
                    <th>Status</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {% for request in blood_request %}
                <tr>
                    <td>{{ request.blood_group }}</td>
                    <td>{{ request.unit }}</td>
                    <td>{{ request.date|date:'F d, Y' }}</td>
                    <td><span class="status-badge">{{ request.status }}</span></td>
                    <td>{% if request.action %}{{ request.action }}{% else %}-{% endif %}</td>
                </tr>
                {% empty %}
                <tr><td colspan="5">No requests found.</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock content %}
